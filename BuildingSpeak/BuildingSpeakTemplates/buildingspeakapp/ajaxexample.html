{% extends 'app_base.html' %}
{% block body %}

<head>
<meta charset="utf-8">
</head>
<body>

<script type='text/javascript' src='http://code.jquery.com/jquery-1.8.2.js'></script>
<script type="text/javascript">
$(document).ready(function() {
		$.ajax({
			url : "/ajaxexample_json",
			type : "POST",
			dataType: "json",
			data : {
				client_response : "first_script",
				csrfmiddlewaretoken: '{{ csrf_token }}'
				},
			success : function(json) {
				$('#resultA').html( 'Hello ' + json.server_response + '. ');
				},
			error : function(xhr,errmsg,err) {
				alert(xhr.status + ": " + xhr.responseText);
				}
			});
});
</script>
<script type="text/javascript">
$(document).ready(function() {
		$.ajax({
			url : "/ajaxexample_json",
			type : "POST",
			dataType: "json",
			data : {
				client_response : "second_script",
				csrfmiddlewaretoken: '{{ csrf_token }}'
				},
			success : function(json) {
				$('#resultB').html( 'And the second ajax script has a 2 second longer pause.');
				},
			error : function(xhr,errmsg,err) {
				alert(xhr.status + ": " + xhr.responseText);
				}
			});
});
</script>

<form method="post" name="example form" >
{% csrf_token %}
<input name="example" id="forminput" type="text">
<input id="button" type="button" value="send to server"></input>
</form>
 
<div id="resultA">
	<img src="{{ STATIC_PREFIX }}app/img/loading.gif" />
</div>
<div id="resultB">
	<img src="{{ STATIC_PREFIX }}app/img/loading.gif" />
</div>


{% endblock %}
